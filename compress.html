<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Compressor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  />
  </head>
  <body class="bg-gray-50 ">

    <nav
    class="w-full h-[72px] bg-[#145da0] flex justify-between px-4 items-center md:px-5 shadow-sm shadow-gray-500 sticky top-0 z-10 "
  >
    <!-- House rental text -->
    <div class="text-2xl text-white font-bold">
      <i class="fa-solid fa-house-chimney"></i>ouse Rentals
    </div>

    <!-- Search Bar -->
    <div class="flex items-center justify-center p-5 w-1/2">
      <div class="flex w-full my-2-2 h-12">
        <div
          class="flex items-center justify-center rounded-tl-lg rounded-bl-lg border-r border-gray-200 bg-white p-5"
        >
          <svg
            viewBox="0 0 20 20"
            aria-hidden="true"
            class="pointer-events-none absolute w-5 fill-gray-500 transition"
          >
            <path
              d="M16.72 17.78a.75.75 0 1 0 1.06-1.06l-1.06 1.06ZM9 14.5A5.5 5.5 0 0 1 3.5 9H2a7 7 0 0 0 7 7v-1.5ZM3.5 9A5.5 5.5 0 0 1 9 3.5V2a7 7 0 0 0-7 7h1.5ZM9 3.5A5.5 5.5 0 0 1 14.5 9H16a7 7 0 0 0-7-7v1.5Zm3.89 10.45 3.83 3.83 1.06-1.06-3.83-3.83-1.06 1.06ZM14.5 9a5.48 5.48 0 0 1-1.61 3.89l1.06 1.06A6.98 6.98 0 0 0 16 9h-1.5Zm-1.61 3.89A5.48 5.48 0 0 1 9 14.5V16a6.98 6.98 0 0 0 4.95-2.05l-1.06-1.06Z"
            ></path>
          </svg>
        </div>
        <input
          type="text"
          class="w-full bg-white pl-2 text-base font-semibold outline-0"
          placeholder="Enter Locality / Society / Landmark"
          id=""
        />
        <input
          type="button"
          value="Search"
          class="bg-[#0C2D48] p-2 rounded-tr-lg rounded-br-lg text-white font-semibold hover:bg-[#0C2D48] transition-colors"
        />
      </div>
    </div>

    <!-- property+user+dropdown menu -->
    <div class="flex">
      <!-- Property button -->
      <div class="bg-white text-black px-3 py-2 rounded-lg cursor-pointer my-1 mx-[10px]">Post Property <span
        class="bg-green-700 text-white  ml-5 my-1 px-3 py-1 rounded-lg text-[12px]">FREE</span>
</div>
<!-- contact us -->
<div class="mx-[10px] py-3   text-white font-bold cursor-pointer">Contact Us</div>
<!-- profile part D will be replaced by user's first name or user's profile picture -->
<div class="bg-green-300  h-[36px] w-[34px]  mt-2 rounded-full px-3 py-3 cursor-pointer mx-[10px] text-green-800 text-[12px]">D
</div>
<!-- hamburger icon -->
<div><i class="fa-solid fa-bars mt-3   text-white font-bold cursor-pointer mx-[10px] text-xl"></i></div>
</div>

     

      <!-- Dropdown menu for future need to use javascript -->
      <div
        id="dropdownAvatarName"
        class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"
      >
        <div class="px-4 py-3 text-sm text-gray-900 dark:text-white">
          <div class="font-medium">User</div>
          <div class="truncate">name@email.com</div>
        </div>
        <ul
          class="py-2 text-sm text-gray-700 dark:text-gray-200"
          aria-labelledby="dropdownInformdropdownAvatarNameButtonationButton"
        >
          <li>
            <a
              href="#"
              class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
              >Dashboard</a
            >
          </li>
          <li>
            <a
              href="#"
              class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
              >Settings</a
            >
          </li>
          <li>
            <a
              href="#"
              class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
              >Something</a
            >
          </li>
        </ul>
        <div class="py-2">
          <a
            href="#"
            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
            >Sign out</a
          >
        </div>
      </div>
    </div>
  </nav>
  <!-- NAVBAR ends here  -->


  <!-- COMPRESSION SECTION -->

  <section class="min-h-screen flex items-center justify-center">

    <div class="w-[35rem] max-w-3xl bg-white shadow-lg rounded-xl p-10">
      <h2 class="text-3xl font-bold text-gray-800 text-center mb-8">
        Upload an Image to Compress
      </h2>

      <!-- Image Input -->
      <input
        type="file"
        id="fileInput"
        accept="image/*"
        class="block w-full text-lg text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 p-3 mb-6 focus:outline-none focus:ring-2 focus:ring-blue-400"
      />

      <!-- Quality Slider -->
      <div class="flex items-center justify-between mb-6">
        <label class="text-gray-700 font-medium text-lg">Quality:</label>
        <input
          type="range"
          id="qualityInput"
          min="0.1"
          max="1"
          step="0.05"
          value="0.8"
          class="w-full mx-4 h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer"
        />
        <span id="qualityValue" class="text-gray-600 text-base">0.8</span>
      </div>

      <!-- Compress Button -->
      <button
        id="compressBtn"
        class="w-full bg-[#145da0] text-white py-3 rounded-lg hover:bg-[#145da0] transition focus:outline-none focus:ring-2 focus:ring-blue-400"
      >
        Compress Image
      </button>

      <!-- Output Container -->
      <div id="output" class="mt-8 text-center"></div>
    </div>
</section>
    <script>
      let selectedFile = null;
      document
        .getElementById("fileInput")
        .addEventListener("change", function (event) {
          selectedFile = event.target.files[0];
        });

      document
        .getElementById("qualityInput")
        .addEventListener("input", function () {
          document.getElementById("qualityValue").innerText = this.value;
        });

      document
        .getElementById("compressBtn")
        .addEventListener("click", function () {
          if (!selectedFile) {
            alert("Please upload an image first.");
            return;
          }

          const quality = parseFloat(
            document.getElementById("qualityInput").value
          );
          compressImage(selectedFile, quality);
        });

      function compressImage(file, quality) {
        const reader = new FileReader();
        reader.readAsDataURL(file);

        reader.onload = function (event) {
          const img = new Image();
          img.src = event.target.result;

          img.onload = function () {
            const canvas = document.createElement("canvas");
            const ctx = canvas.getContext("2d");

            const MAX_WIDTH = 1024;
            const MAX_HEIGHT = 1024;
            let width = img.width;
            let height = img.height;

            if (width > MAX_WIDTH || height > MAX_HEIGHT) {
              if (width > height) {
                height *= MAX_WIDTH / width;
                width = MAX_WIDTH;
              } else {
                width *= MAX_HEIGHT / height;
                height = MAX_HEIGHT;
              }
            }

            canvas.width = width;
            canvas.height = height;
            ctx.drawImage(img, 0, 0, width, height);

            const compressedDataUrl = canvas.toDataURL("image/jpeg", quality);

            document.getElementById("output").innerHTML = `
            <h3 class="text-lg font-semibold text-gray-800 mt-4">Compressed Image</h3>
            <img src="${compressedDataUrl}" class="rounded-lg mt-2 border border-gray-200 max-w-full">
            <a download="compressed.jpg" href="${compressedDataUrl}">
              <button class="mt-4 bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition">
                Download Compressed Image
              </button>
            </a>
          `;
          };
        };
      }
    </script>
  </body>
</html>
